<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>stack.blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="stack.blog">
<meta property="og:url" content="https://github.com/songMW/stack.github.io/index.html">
<meta property="og:site_name" content="stack.blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="stack.blog">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">stack.blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://github.com/songMW/stack.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="[layout]-MPMoviePlayerController" class="article article-type-[layout]" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/30/MPMoviePlayerController/" class="article-date">
  <time datetime="2017-06-30T03:38:30.000Z" itemprop="datePublished">2017-06-30</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Objective-C/">Objective-C</a>►<a class="article-category-link" href="/categories/Objective-C/AVFoundation/">AVFoundation</a>►<a class="article-category-link" href="/categories/Objective-C/AVFoundation/MoviePlayer/">MoviePlayer</a>►<a class="article-category-link" href="/categories/Objective-C/AVFoundation/MoviePlayer/MPMoviePlayerController/">MPMoviePlayerController</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/30/MPMoviePlayerController/">MPMoviePlayerController</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>首先贴上<a href="https://developer.apple.com/documentation/mediaplayer/mpmovieplayercontroller" target="_blank" rel="external">官方文档</a></p>
<h2 id="1-初始化"><a href="#1-初始化" class="headerlink" title="1. 初始化"></a>1. 初始化</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">- (void)viewDidLoad</div><div class="line">&#123;</div><div class="line">    [super viewDidLoad];</div><div class="line"></div><div class="line">    [self.view addSubview:self.moviePlayerController.view];</div><div class="line">    [self.moviePlayerController.view makeConstraints:^(MASConstraintMaker *make) &#123;</div><div class="line">        make.top.left.bottom.right.equalTo(self.view);</div><div class="line">    &#125;];</div><div class="line">    [self.moviePlayerController prepareToPlay];</div><div class="line">&#125;</div><div class="line"></div><div class="line">- (MPMoviePlayerController *)moviePlayerController</div><div class="line">&#123;</div><div class="line">    if (!_moviePlayerController) &#123;</div><div class="line">        _moviePlayerController = [[MPMoviePlayerController alloc]init];</div><div class="line">        _moviePlayerController.fullscreen = NO;</div><div class="line">        _moviePlayerController.controlStyle = MPMovieControlStyleEmbedded;</div><div class="line">        _moviePlayerController.scalingMode = MPMovieScalingModeAspectFit;</div><div class="line">        [_moviePlayerController.view setTranslatesAutoresizingMaskIntoConstraints:NO];</div><div class="line">    &#125;</div><div class="line">    return _moviePlayerController;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>_moviePlayerController.view 一定要添加到父视图上, 要不只有声音没有图片</li>
<li>MPMoviePlayerController 继承 NSObject <mpmediaplayback></mpmediaplayback></li>
<li><mpmediaplayback> 播放, 暂停, 停止, 准备播放的API</mpmediaplayback></li>
<li>视图刚呈现时底部显示: 暂停 进度条 全屏按钮</li>
<li>点击底部全屏按钮后会在顶部呈现: Done 进度条 退出全屏按钮</li>
</ul>
<h2 id="2-顶部-Done-和-退出全屏按钮的监测"><a href="#2-顶部-Done-和-退出全屏按钮的监测" class="headerlink" title="2. 顶部 Done 和 退出全屏按钮的监测"></a>2. 顶部 Done 和 退出全屏按钮的监测</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(doneButtonClick:) name:MPMoviePlayerWillExitFullscreenNotification object:nil];</div><div class="line"></div><div class="line">- (void)doneButtonClick:(NSNotification *)center</div><div class="line">&#123;</div><div class="line">    if (self.moviePlayerController.playbackState == MPMoviePlaybackStateStopped) &#123;</div><div class="line">        //说明是点击Done按钮</div><div class="line">        [self dismissViewControllerAnimated:YES completion:nil];</div><div class="line">    &#125;</div><div class="line">    else if (self.moviePlayerController.playbackState == MPMoviePlaybackStatePlaying)&#123;</div><div class="line">        //说明点击了右上角退出全屏按钮</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>注册 <code>MPMoviePlayerWillExitFullscreenNotification</code> 这个通知, 不管是点击Done还是退出全屏按钮都会接受到通知, 在通知的回调方法中可以根据 <code>playbackState</code> 这个属性来判断是点击那个按钮.</li>
<li>点击Done按钮时会暂停播放</li>
<li>点击退出全屏按钮则不会暂停播放</li>
</ul>
<h2 id="3-监听视频播放结束"><a href="#3-监听视频播放结束" class="headerlink" title="3. 监听视频播放结束"></a>3. 监听视频播放结束</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(videoEndPlay:) name:MPMoviePlayerPlaybackDidFinishNotification object:nil];</div><div class="line"></div><div class="line">- (void)videoEndPlay:(NSNotification *)sender</div><div class="line">&#123;</div><div class="line">    NSLog(@&quot;播放结束&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>自动播放完成后会调用</li>
<li>用户退出播放时会调用</li>
</ul>
<h2 id="4-监听当前视频播放状态"><a href="#4-监听当前视频播放状态" class="headerlink" title="4. 监听当前视频播放状态"></a>4. 监听当前视频播放状态</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(videoLoadStateDidChange:) name:MPMoviePlayerLoadStateDidChangeNotification object:nil];</div><div class="line">- (void)videoLoadStateDidChange:(NSNotification *)sender</div><div class="line">&#123;</div><div class="line">    // Returns the network load state of the movie player</div><div class="line">    switch (self.moviePlayerController.loadState) &#123;</div><div class="line">        case MPMovieLoadStatePlayable:</div><div class="line">            NSLog(@&quot;加载完成,可以播放&quot;);</div><div class="line">            break;</div><div class="line"></div><div class="line">        case MPMovieLoadStatePlaythroughOK:</div><div class="line">            NSLog(@&quot;缓冲完成，可以连续播放&quot;);</div><div class="line">            break;</div><div class="line"></div><div class="line">        case MPMovieLoadStateStalled:</div><div class="line">            NSLog(@&quot;缓冲中&quot;);</div><div class="line">            break;</div><div class="line"></div><div class="line">        case MPMovieLoadStateUnknown:</div><div class="line">            NSLog(@&quot;未知状态&quot;);</div><div class="line">            break;</div><div class="line"></div><div class="line">        default:</div><div class="line">            break;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="5-监听当前视频-Playback-拖动进度条-播放-暂停"><a href="#5-监听当前视频-Playback-拖动进度条-播放-暂停" class="headerlink" title="5. 监听当前视频 Playback 拖动进度条, 播放, 暂停"></a>5. 监听当前视频 Playback 拖动进度条, 播放, 暂停</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(videoPlaybackDidChange:) name:MPMoviePlayerPlaybackStateDidChangeNotification object:nil];</div><div class="line"></div><div class="line">- (void)videoPlaybackDidChange:(NSNotification *)center</div><div class="line">&#123;</div><div class="line">    switch (self.moviePlayerController.playbackState) &#123;</div><div class="line">        case MPMoviePlaybackStateStopped:</div><div class="line">            NSLog(@&quot;停止播放&quot;);</div><div class="line">            break;</div><div class="line"></div><div class="line">        case MPMoviePlaybackStatePlaying:</div><div class="line">            NSLog(@&quot;正在播放&quot;);</div><div class="line">            break;</div><div class="line"></div><div class="line">        case MPMoviePlaybackStatePaused:</div><div class="line">            NSLog(@&quot;暂停播放&quot;);</div><div class="line">            break;</div><div class="line"></div><div class="line">        case MPMoviePlaybackStateInterrupted:</div><div class="line">            NSLog(@&quot;终端播放&quot;);</div><div class="line">            break;</div><div class="line"></div><div class="line">        case MPMoviePlaybackStateSeekingForward:</div><div class="line">            NSLog(@&quot;快进&quot;);</div><div class="line">            break;</div><div class="line"></div><div class="line">        case MPMoviePlaybackStateSeekingBackward:</div><div class="line">            NSLog(@&quot;快退&quot;);</div><div class="line">            break;</div><div class="line"></div><div class="line">        default:</div><div class="line">            break;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="6-开启全屏-退出全屏"><a href="#6-开启全屏-退出全屏" class="headerlink" title="6. 开启全屏, 退出全屏"></a>6. 开启全屏, 退出全屏</h2><h2 id="7-上一首-下一首"><a href="#7-上一首-下一首" class="headerlink" title="7. 上一首, 下一首"></a>7. 上一首, 下一首</h2><h2 id="8"><a href="#8" class="headerlink" title="8."></a>8.</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/songMW/stack.github.io/2017/06/30/MPMoviePlayerController/" data-id="cj4r0c570000a1porvm5g7hvu" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Objective-C/">Objective-C</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="[layout]-MPMoviePlayerViewController" class="article article-type-[layout]" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/29/MPMoviePlayerViewController/" class="article-date">
  <time datetime="2017-06-29T12:34:53.000Z" itemprop="datePublished">2017-06-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Objective-C/">Objective-C</a>►<a class="article-category-link" href="/categories/Objective-C/AVFoundation/">AVFoundation</a>►<a class="article-category-link" href="/categories/Objective-C/AVFoundation/MoviePlayer/">MoviePlayer</a>►<a class="article-category-link" href="/categories/Objective-C/AVFoundation/MoviePlayer/MPMoviePlayerViewController/">MPMoviePlayerViewController</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/29/MPMoviePlayerViewController/">MPMoviePlayerViewController</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>首先贴上<a href="https://developer.apple.com/documentation/mediaplayer/mpmovieplayercontroller" target="_blank" rel="external">官方文档</a></p>
<p>先看下头文件:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">@interface MPMoviePlayerViewController : UIViewController</div><div class="line"></div><div class="line">- (instancetype)initWithContentURL:(NSURL *)contentURL NS_DESIGNATED_INITIALIZER;</div><div class="line"></div><div class="line">@property (nonatomic, readonly) MPMoviePlayerController *moviePlayer;</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@interface UIViewController (MPMoviePlayerViewController)</div><div class="line"></div><div class="line">- (void)presentMoviePlayerViewControllerAnimated:(MPMoviePlayerViewController *)moviePlayerViewController;</div><div class="line">- (void)dismissMoviePlayerViewControllerAnimated;</div><div class="line"></div><div class="line">@end</div></pre></td></tr></table></figure></p>
<ul>
<li>MPMoviePlayerViewController 继承 UIViewController;</li>
<li>API很少, 主要是 moviePlayer 这个属性, 是对 MPMoviePlayerController 的一层封装;</li>
<li>当然也拥有 MPMoviePlayerController 的所有功能;</li>
<li>使用简单, 点击Done按钮会自动退出, 有进度条, 快进, 快退, 播放按钮.</li>
<li>可以去自定义添加控件到播放页面, 不建议这么做, 可以直接使用 MPMoviePlayerController</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">MPMoviePlayerViewController *mpMovieController = [[MPMoviePlayerViewController alloc]initWithContentURL:[NSURL fileURLWithPath:videoPath]];</div><div class="line">[vc presentViewController:mpMovieController animated:YES completion:nil];</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/songMW/stack.github.io/2017/06/29/MPMoviePlayerViewController/" data-id="cj4r0c576000c1por4mcqwihw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Objective-C/">Objective-C</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="[layout]-宏与常量" class="article article-type-[layout]" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/17/宏与常量/" class="article-date">
  <time datetime="2017-06-17T07:59:06.000Z" itemprop="datePublished">2017-06-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Objective-C/">Objective-C</a>►<a class="article-category-link" href="/categories/Objective-C/知识点/">知识点</a>►<a class="article-category-link" href="/categories/Objective-C/知识点/宏-define-与常量-const/">宏(define)与常量(const)</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/17/宏与常量/">宏(define)与常量(const)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="当我们想全局共用一些数据时-可以用宏、变量、常量"><a href="#当我们想全局共用一些数据时-可以用宏、变量、常量" class="headerlink" title="当我们想全局共用一些数据时, 可以用宏、变量、常量"></a>当我们想全局共用一些数据时, 可以用宏、变量、常量</h2><h3 id="宏"><a href="#宏" class="headerlink" title="宏"></a>宏</h3><p>定义形式: #define THIS_IS_MACRO @”this is macro”<br>在预处理器里进行文本替换, 没有类型, 不做任何类型检查, 编译器可以对相同的字符串进行优化, 大量宏会导致二进制包变大</p>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>定义形式: NSString *thisIsVariable = @”this is variable”;<br>共享一块内存空间, 就算项目中N处用到, 也不会分配N块内存空间, 可以被修改, 在编译阶段会执行类型检查</p>
<h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><p>定义形式: </p>
<ol>
<li>const NSString *thisIsConstVariable = @”this is const variable, value can changed”;</li>
<li>NSString const *thisIsConstVariable = @”this is const variable, value can changed”;</li>
<li>NSString *const thisIsConstVariable = @”this is const variable, value can not changed”;</li>
<li>static const NSString *thisIsStaticConstVariable = @”this is static const variable”;</li>
</ol>
<p>共享一块内存空间, 就算项目中N处用到, 也不会分配N块内存空间, 可以根据const修饰的位置设定能否修改, 在编译阶段会执行类型检查</p>
<h2 id="常量区分"><a href="#常量区分" class="headerlink" title="常量区分"></a>常量区分</h2><ol>
<li><p>全局常量: 不管你定义在任何文件夹,外部都能访问<br>只要在类中声明一个全局变量, 该变量在整个工程中都可以访问到</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">//在 ViewController 中声明一个全局变量 testSting</div><div class="line">#import &quot;ViewController.h&quot;</div><div class="line"></div><div class="line">NSString *const testSting = @&quot;hello world&quot;;</div><div class="line"></div><div class="line">@interface ViewController ()</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">//在 AppDelegate 中可以获取到该值</div><div class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions </div><div class="line">&#123;</div><div class="line">    extern NSString *const testSting;</div><div class="line">    NSLog(@&quot;%@&quot;, testSting);</div><div class="line">    return YES;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>局部常量: 用static修饰后,不能提供外界访问</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">//在 ViewController 中声明一个全局变量 testSting</div><div class="line">#import &quot;ViewController.h&quot;</div><div class="line"></div><div class="line">static NSString *const testStaticString = @&quot;static&quot;;</div><div class="line"></div><div class="line">@interface ViewController ()</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">@implementation ViewController</div><div class="line"></div><div class="line">@end</div><div class="line"></div><div class="line">//在 AppDelegate 中获取</div><div class="line">- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions </div><div class="line">&#123;</div><div class="line">    extern NSString *const testStaticString;</div><div class="line">    NSLog(@&quot;%@&quot;, testStaticString);</div><div class="line">    return YES;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//会报错</div><div class="line">Undefined symbols for architecture x86_64:</div><div class="line">&quot;_testStaticString&quot;, referenced from:</div><div class="line">-[AppDelegate application:didFinishLaunchingWithOptions:] in AppDelegate.o</div><div class="line">ld: symbol(s) not found for architecture x86_64</div><div class="line">clang: error: linker command failed with exit code 1 (use -v to see invocation)</div></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="extern"><a href="#extern" class="headerlink" title="extern"></a>extern</h2><p>extern是用来声明一个已经定义过的变量, 多个类中同时声明同一个变量但却没有初始化, 当访问这个变量时会报错:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Undefined symbols for architecture x86_64:</div><div class="line">&quot;_testSting&quot;, referenced from:</div><div class="line">-[AppDelegate application:didFinishLaunchingWithOptions:] in AppDelegate.o</div><div class="line">ld: symbol(s) not found for architecture x86_64</div><div class="line">clang: error: linker command failed with exit code 1 (use -v to see invocation)</div></pre></td></tr></table></figure></p>
<p>如果多个类中同时使用extern声明同一个变量, 定义多次, 则会报错:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ld: 1 duplicate symbol for architecture x86_64</div><div class="line">clang: error: linker command failed with exit code 1 (use -v to see invocation)</div></pre></td></tr></table></figure></p>
<pre><code>* extern可以用来声明一个全局变量, 但是不能用来定义变量
* 默认情况下, 一个全局变量是可以供多个源文件共享的, 也就说, 多个源文件中同名的全局变量都代表着同一个变量
* 如果在定义全局变量的时候加上static关键字, 此时static的作用在于限制该全局变量的作用域, 只能在定义该全局变量的文件中才能使用, 跟其他源文件中的同名变量互不干扰
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/songMW/stack.github.io/2017/06/17/宏与常量/" data-id="cj4r0c58m001h1porh8ettxkj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Objective-C/">Objective-C</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="[layout]-KVC实现原理" class="article article-type-[layout]" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/06/14/KVC实现原理/" class="article-date">
  <time datetime="2017-06-14T03:05:05.000Z" itemprop="datePublished">2017-06-14</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Objective-C/">Objective-C</a>►<a class="article-category-link" href="/categories/Objective-C/知识点/">知识点</a>►<a class="article-category-link" href="/categories/Objective-C/知识点/KVC实现原理/">KVC实现原理</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/06/14/KVC实现原理/">KVC实现原理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="什么是KVC"><a href="#什么是KVC" class="headerlink" title="什么是KVC"></a>什么是KVC</h2><ol>
<li>KVC 是 Key-Value-Coding 的简称.</li>
<li>KVC 是通过字符串的名字 [key] 来访问类属性的机制, 而不是通过调用 setter、getter 方法去访问.</li>
</ol>
<h2 id="KVC-主要方法"><a href="#KVC-主要方法" class="headerlink" title="KVC 主要方法:"></a>KVC 主要方法:</h2><p>在 <code>Foundation</code> 框架 <code>NSKeyValueCoding.h</code> 中查看.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/songMW/stack.github.io/2017/06/14/KVC实现原理/" data-id="cj4r0c56w00061porenrqzvg1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Objective-C/">Objective-C</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="[layout]-Clang" class="article article-type-[layout]" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/15/Clang/" class="article-date">
  <time datetime="2017-05-15T07:47:07.000Z" itemprop="datePublished">2017-05-15</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Objective-C/">Objective-C</a>►<a class="article-category-link" href="/categories/Objective-C/反编译工具/">反编译工具</a>►<a class="article-category-link" href="/categories/Objective-C/反编译工具/Clang/">Clang</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/15/Clang/">Clang</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Clang是什么？"><a href="#Clang是什么？" class="headerlink" title="Clang是什么？"></a>Clang是什么？</h2><p><code>Clang是一个C、C++、OC语言的轻量级编译器.</code></p>
<h2 id="Clang的用途-重写OC源码转为C"><a href="#Clang的用途-重写OC源码转为C" class="headerlink" title="Clang的用途 重写OC源码转为C++"></a>Clang的用途 重写OC源码转为C++</h2><p><code>clang -rewrite-objc xxx.m</code> 遇到如下的错误：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">main.m:9:9: fatal error: &apos;UIKit/UIKit.h&apos; file not found</div><div class="line">#import &lt;UIKit/UIKit.h&gt;</div><div class="line">^</div><div class="line">1 error generated.</div></pre></td></tr></table></figure></p>
<p>解决方法如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">clang -x objective-c -rewrite-objc -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk xxx.m</div></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/songMW/stack.github.io/2017/05/15/Clang/" data-id="cj4r0c56f00011port6szqa9a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Objective-C/">Objective-C</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="[layout]-load" class="article article-type-[layout]" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/04/load/" class="article-date">
  <time datetime="2017-05-04T08:20:45.000Z" itemprop="datePublished">2017-05-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Objective-C/">Objective-C</a>►<a class="article-category-link" href="/categories/Objective-C/知识点/">知识点</a>►<a class="article-category-link" href="/categories/Objective-C/知识点/load/">load</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/04/load/">load</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-load-是什么"><a href="#1-load-是什么" class="headerlink" title="1. load 是什么?"></a>1. load 是什么?</h2><ul>
<li>定义在NSObject.h头文件中</li>
<li>load方法在这个文件被程序装载时调用, 只要是在Compile Sources中出现的文件总是会被装载, 无论这个类是否被用到;</li>
<li>load方法在main函数之前调用;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">+ (void)load;</div></pre></td></tr></table></figure>
<h2 id="2-load-怎么调用"><a href="#2-load-怎么调用" class="headerlink" title="2. load 怎么调用?"></a>2. load 怎么调用?</h2><ul>
<li>如果在一个类中实现 load 方法, 则会先调用其父类的 load 方法, 是系统自动调用的; </li>
<li>如果一个类没有实现 load 方法, 则系统不会调用它的父类;</li>
<li>类别中调用 load 方法, 遵循上面两条;</li>
<li>load 方法不能手动调用;</li>
<li>load 是线程安全的, 内部使用了锁, 应该避免在 load 中阻塞线程</li>
</ul>
<h2 id="3-load-使用场景"><a href="#3-load-使用场景" class="headerlink" title="3. load 使用场景"></a>3. load 使用场景</h2><ul>
<li>实现 Method Swizzle <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">+ (void)load&#123;</div><div class="line">    static dispatch_once_t onceToken;</div><div class="line">    dispatch_once(&amp;onceToken, ^&#123;</div><div class="line">        Method originalDealloc = class_getInstanceMethod(self, NSSelectorFromString(@&quot;dealloc&quot;));</div><div class="line">        Method newDealloc = class_getInstanceMethod(self, @selector(autoRemoveObserverDealloc));</div><div class="line">        method_exchangeImplementations(originalDealloc, newDealloc);</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="4-源码学习"><a href="#4-源码学习" class="headerlink" title="4. 源码学习"></a>4. 源码学习</h2><h2 id="objc—-gt-Sources—-gt-objc-loadmethod-mm"><a href="#objc—-gt-Sources—-gt-objc-loadmethod-mm" class="headerlink" title="objc—&gt;Sources—&gt;objc-loadmethod.mm"></a>objc—&gt;Sources—&gt;objc-loadmethod.mm</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">struct loadable_class &#123;</div><div class="line">    Class cls;  // may be nil</div><div class="line">    IMP method;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">struct loadable_category &#123;</div><div class="line">    Category cat;  // may be nil</div><div class="line">    IMP method;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">// List of classes that need +load called (pending superclass +load)</div><div class="line">// This list always has superclasses first because of the way it is constructed</div><div class="line">static struct loadable_class *loadable_classes = nil;</div><div class="line">static int loadable_classes_used = 0;</div><div class="line">static int loadable_classes_allocated = 0;</div><div class="line"></div><div class="line">// List of categories that need +load called (pending parent class +load)</div><div class="line">static struct loadable_category *loadable_categories = nil;</div><div class="line">static int loadable_categories_used = 0;</div><div class="line">static int loadable_categories_allocated = 0;</div></pre></td></tr></table></figure>
<h3 id="这段代码介绍两个结构体指针-分别是可承载的类和类别-类中"><a href="#这段代码介绍两个结构体指针-分别是可承载的类和类别-类中" class="headerlink" title="这段代码介绍两个结构体指针, 分别是可承载的类和类别. 类中"></a>这段代码介绍两个结构体指针, 分别是可承载的类和类别. 类中</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">/***********************************************************************</div><div class="line">* add_class_to_loadable_list</div><div class="line">* Class cls has just become connected. Schedule it for +load if</div><div class="line">* it implements a +load method.</div><div class="line">**********************************************************************/</div><div class="line">void add_class_to_loadable_list(Class cls)</div><div class="line">&#123;</div><div class="line">    IMP method;</div><div class="line"></div><div class="line">    loadMethodLock.assertLocked();</div><div class="line"></div><div class="line">    method = cls-&gt;getLoadMethod();</div><div class="line">    if (!method) return;  // Don&apos;t bother if cls has no +load method</div><div class="line"></div><div class="line">    if (PrintLoading) &#123;</div><div class="line">        _objc_inform(&quot;LOAD: class &apos;%s&apos; scheduled for +load&quot;, </div><div class="line">        cls-&gt;nameForLogging());</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    if (loadable_classes_used == loadable_classes_allocated) &#123;</div><div class="line">        loadable_classes_allocated = loadable_classes_allocated*2 + 16;</div><div class="line">        loadable_classes = (struct loadable_class *)</div><div class="line">        realloc(loadable_classes,</div><div class="line">        loadable_classes_allocated *</div><div class="line">        sizeof(struct loadable_class));</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    loadable_classes[loadable_classes_used].cls = cls;</div><div class="line">    loadable_classes[loadable_classes_used].method = method;</div><div class="line">    loadable_classes_used++;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="1-声明一个IMP"><a href="#1-声明一个IMP" class="headerlink" title="1. 声明一个IMP;"></a>1. 声明一个IMP;</h3><h3 id="2-loadMethodLock-assertLocked-线程安全-使用recursive-mutex-t上锁"><a href="#2-loadMethodLock-assertLocked-线程安全-使用recursive-mutex-t上锁" class="headerlink" title="2. loadMethodLock.assertLocked(); 线程安全, 使用recursive_mutex_t上锁"></a>2. <code>loadMethodLock.assertLocked();</code> 线程安全, 使用recursive_mutex_t上锁</h3><h3 id="3-cls-gt-getLoadMethod-这个方法是获取一个类声明的-load-方法-如果没有声明-load-则会返回nil"><a href="#3-cls-gt-getLoadMethod-这个方法是获取一个类声明的-load-方法-如果没有声明-load-则会返回nil" class="headerlink" title="3. cls-&gt;getLoadMethod()这个方法是获取一个类声明的 +load 方法, 如果没有声明 +load 则会返回nil;"></a>3. <code>cls-&gt;getLoadMethod()</code>这个方法是获取一个类声明的 <code>+load</code> 方法, 如果没有声明 <code>+load</code> 则会返回nil;</h3><h3 id="4"><a href="#4" class="headerlink" title="4."></a>4.</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">void prepare_load_methods(const headerType *mhdr)</div><div class="line">&#123;</div><div class="line">    size_t count, i;</div><div class="line">    runtimeLock.assertWriting();</div><div class="line">    classref_t *classlist = _getObjc2NonlazyClassList(mhdr, &amp;count);</div><div class="line">    for (i = 0; i &lt; count; i++) &#123;</div><div class="line">        schedule_class_load(remapClass(classlist[i]));</div><div class="line">    &#125;</div><div class="line">    category_t **categorylist = _getObjc2NonlazyCategoryList(mhdr, &amp;count);</div><div class="line">    for (i = 0; i &lt; count; i++) &#123;</div><div class="line">        category_t *cat = categorylist[i];</div><div class="line">        Class cls = remapClass(cat-&gt;cls);</div><div class="line">        if (!cls) continue;  // category for ignored weak-linked class</div><div class="line">        realizeClass(cls);</div><div class="line">        assert(cls-&gt;ISA()-&gt;isRealized());</div><div class="line">        add_category_to_loadable_list(cat);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="1-headerType-是什么"><a href="#1-headerType-是什么" class="headerlink" title="1.  headerType  是什么?"></a>1. <em> headerType </em> 是什么?</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">typedef struct mach_header headerType;</div><div class="line">/*</div><div class="line">* The 32-bit mach header appears at the very beginning of the object file for</div><div class="line">* 32-bit architectures.</div><div class="line">*/</div><div class="line">struct mach_header &#123;</div><div class="line">    uint32_t	magic;		/* mach magic number identifier */</div><div class="line">    cpu_type_t	cputype;	/* cpu specifier */</div><div class="line">    cpu_subtype_t	cpusubtype;	/* machine specifier */</div><div class="line">    uint32_t	filetype;	/* type of file */</div><div class="line">    uint32_t	ncmds;		/* number of load commands */</div><div class="line">    uint32_t	sizeofcmds;	/* the size of all the load commands */</div><div class="line">    uint32_t	flags;		/* flags */</div><div class="line">&#125;;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/songMW/stack.github.io/2017/05/04/load/" data-id="cj4r0c58900161poru4l61fnk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Objective-C/">Objective-C</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="[layout]-GracefulSentence" class="article article-type-[layout]" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/05/03/GracefulSentence/" class="article-date">
  <time datetime="2017-05-03T01:27:04.000Z" itemprop="datePublished">2017-05-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/GracefulSentence/">GracefulSentence</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/03/GracefulSentence/">GracefulSentence</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><code>Withstand the test of time! 经得起时间的考验</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/songMW/stack.github.io/2017/05/03/GracefulSentence/" data-id="cj4r0c56q00041porwfqf35k5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Sentence/">Sentence</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="[layout]-arm指令集" class="article article-type-[layout]" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/26/arm指令集/" class="article-date">
  <time datetime="2017-04-26T08:48:52.000Z" itemprop="datePublished">2017-04-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Objective-C/">Objective-C</a>►<a class="article-category-link" href="/categories/Objective-C/iOS常见错误收集/">iOS常见错误收集</a>►<a class="article-category-link" href="/categories/Objective-C/iOS常见错误收集/arm指令集错误收集/">arm指令集错误收集</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/26/arm指令集/">arm指令集错误收集</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>iOS的指令集有 <code>armv6、armv7、armv7s、arm64</code> Arm是向下兼容的</p>
<ol>
<li>armv6 <ul>
<li>iPhone</li>
<li>iPhone2</li>
<li>iPhone3G</li>
<li>iPod Touch(1, 2)</li>
</ul>
</li>
<li>armv7 <ul>
<li>iPhone4</li>
<li>iPhone4S</li>
<li>iPod (3G, 4G, 5G)</li>
<li>iPad(1, 2 , 3 , Mini)</li>
</ul>
</li>
<li>armv7s<ul>
<li>iPhone5</li>
<li>iPhone5C</li>
<li>iPad 4</li>
</ul>
</li>
<li>arm64 <ul>
<li>iPhone5S以后</li>
<li>iPad Air(2), Retina iPad Mini(2,3)</li>
</ul>
</li>
<li>Architecture: 指你想支持的指令集</li>
<li>Valid architectures: 指即将编译的指令集</li>
<li>Build Active Architecture Only: 是否只编译当前适用的指令集;<br> 如果要app在各个机器都能够最高效率的运行, 需要将Build Active Architecture Only改为 NO, Valid architectures选择对应的指令集: armv7 armv7s arm64; 但是编译后包得体积会增加, Release时必须设置为NO;<br> Valid architectures 为 armv7 时包的体积最小(不能编译armv6), Build Active Architectures 任意;<br> 如果这个参数设为 YES, 那么如果你用iPhone 6调试, 最终生成的一个支持arm64指令集的Binary;使用iPhone4编译, 最终生成一个支持armv7指令集的Binary, 意思是只会编译对应指令的包;<br> 如果这个参数设置为 NO, 编译器会整合指令集, 包会变大, 可以设配不同的设备;<br> 所以一般在DEBUG模式下设为YES, RELEASE设为NO;<br> 模拟器并不运行arm代码, 软件会被编译成x86可以运行的指令. 所以生成静态库时都是会先生成两个.a, 一个是i386的用于在模拟器运行, 另一个是在真实设备上运行的, 然后再用命令将两个.a合并成一个.</li>
</ol>
<h2 id="1-error-No-architectures-to-compile-for-ONLY-ACTIVE-ARCH-YES-active-arch-x86-64-VALID-ARCHS-i386"><a href="#1-error-No-architectures-to-compile-for-ONLY-ACTIVE-ARCH-YES-active-arch-x86-64-VALID-ARCHS-i386" class="headerlink" title="1. error: No architectures to compile for (ONLY_ACTIVE_ARCH=YES, active arch=x86_64, VALID_ARCHS=i386)"></a>1. error: No architectures to compile for (ONLY_ACTIVE_ARCH=YES, active arch=x86_64, VALID_ARCHS=i386)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1. 在Project target里“Architectures”设置为“Standard （armv7,armv7s）”</div><div class="line">2. 修改在Project target里“Build Settings”的“Valid Architectures”添加 “i386” 和 “armv7”(Xcode4.6 以上版本不再支持armv6，请去掉);</div><div class="line">3. 设置 ”Build Active Architecture Only” 为 “NO”。</div></pre></td></tr></table></figure>
<h2 id="2-Undefined-symbols-for-architecture-arm64"><a href="#2-Undefined-symbols-for-architecture-arm64" class="headerlink" title="2. Undefined symbols for architecture arm64"></a>2. Undefined symbols for architecture arm64</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Undefined symbols for architecture arm64:</div><div class="line">&quot;_OBJC_CLASS_$_XXX&quot;, referenced from: someFile</div><div class="line">ld: symbol(s) not found for architecture arm64</div></pre></td></tr></table></figure>
<h3 id="reason-工程内某些地方不支持arm64指令集"><a href="#reason-工程内某些地方不支持arm64指令集" class="headerlink" title="reason: 工程内某些地方不支持arm64指令集 "></a><font color="#FF0000">reason: 工程内某些地方不支持arm64指令集 </font></h3><h3 id="resolve"><a href="#resolve" class="headerlink" title=" resolve: "></a><font color="#FF0000"> resolve: </font></h3><pre><code>1. 设置 Architectures armv7 armv7s, Build Active Architecture Only NO; Valid Architectures armv6 armv7 armv7s arm64;
2. 如果设置 Architectures, Valid Architectures 设置正确还是不行的话, 在 Other Linker Flags 中添加$(inherited);
3. 前面2步设置完还是不行的话试试:将 /User/yourname/Library/Developer/XCode/DerivedData 清空.
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/songMW/stack.github.io/2017/04/26/arm指令集/" data-id="cj4r0c57y000x1porwkvnzk88" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Objective-C/">Objective-C</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="[layout]-崩溃日志" class="article article-type-[layout]" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/25/崩溃日志/" class="article-date">
  <time datetime="2017-04-25T10:19:52.000Z" itemprop="datePublished">2017-04-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Objective-C/">Objective-C</a>►<a class="article-category-link" href="/categories/Objective-C/iOS常见错误收集/">iOS常见错误收集</a>►<a class="article-category-link" href="/categories/Objective-C/iOS常见错误收集/崩溃日志/">崩溃日志</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/25/崩溃日志/">崩溃日志</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://developer.apple.com/library/content/qa/qa1747/_index.html" target="_blank" rel="external">苹果崩溃日志文档</a></p>
<h2 id="崩溃日志的实例"><a href="#崩溃日志的实例" class="headerlink" title="崩溃日志的实例"></a>崩溃日志的实例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">// 1: 进程信息</div><div class="line">Incident Identifier: 30E46451-53FD-4965-896A-457FC11AD05F</div><div class="line">CrashReporter Key:   5a56599d836c4f867f6eec76afee451bf9ae5f31</div><div class="line">Hardware Model:	  iPhone4,1</div><div class="line">Process:		 Rage Masters [4155]</div><div class="line">Path:			/var/mobile/Applications/A5635B22-F5EF-4CEB-94B6-FE158D885014/Rage Masters.app/Rage Masters</div><div class="line">Identifier:	  Rage Masters</div><div class="line">Version:		 ??? (???)</div><div class="line">Code Type:	   ARM (Native)</div><div class="line">Parent Process:  launchd [1]</div><div class="line">// 2: 基本信息</div><div class="line">Date/Time:	   2012-10-17 21:39:06.967 -0400</div><div class="line">OS Version:	  iOS 6.0 (10A403)</div><div class="line">Report Version:  104</div><div class="line">// 3: 异常</div><div class="line">Exception Type:  00000020</div><div class="line">Exception Codes: 0x000000008badf00d</div><div class="line">Highlighted Thread:  0</div><div class="line">// 4: 线程回溯</div><div class="line">Thread 0 name:  Dispatch queue: com.apple.main-thread</div><div class="line">Thread 0:</div><div class="line">0   libsystem_kernel.dylib			0x327f2eb4 mach_msg_trap + 20</div><div class="line">1   libsystem_kernel.dylib			0x327f3048 mach_msg + 36</div><div class="line">2   CoreFoundation					0x36bd4040 __CFRunLoopServiceMachPort + 124</div><div class="line">3   CoreFoundation					0x36bd2d9e __CFRunLoopRun + 878</div><div class="line">4   CoreFoundation					0x36b45eb8 CFRunLoopRunSpecific + 352</div><div class="line">5   CoreFoundation					0x36b45d44 CFRunLoopRunInMode + 100</div><div class="line">6   CFNetwork					 	0x32ac343e CFURLConnectionSendSynchronousRequest + 330</div><div class="line">7   Foundation						0x346e69ba +[NSURLConnection sendSynchronousRequest:returningResponse:error:] + 242</div><div class="line">8   Rage Masters				  	0x000d4046 0xd2000 + 8262</div><div class="line">Thread 1:</div><div class="line">0   libsystem_kernel.dylib			0x32803d98 __workq_kernreturn + 8</div><div class="line">1   libsystem_c.dylib			 	0x3a987cf6 _pthread_workq_return + 14</div><div class="line">2   libsystem_c.dylib			 	0x3a987a12 _pthread_wqthread + 362</div><div class="line">3   libsystem_c.dylib			 	0x3a9878a0 start_wqthread + 4</div><div class="line">// 5: 线程状态</div><div class="line">Thread 0 crashed with ARM Thread State (32-bit):</div><div class="line">r0: 0x00000000	r1: 0x00000000	  r2: 0x00000001	  r3: 0x39529fc8</div><div class="line">r4: 0xffffffff	r5: 0x2fd7d301	  r6: 0x2fd7d300	  r7: 0x2fd7d9d0</div><div class="line">r8: 0x2fd7d330	r9: 0x3adbf8a8	 r10: 0x2fd7d308	 r11: 0x00000032</div><div class="line">ip: 0x00000025	sp: 0x2fd7d2ec	  lr: 0x001bdb25	  pc: 0x30301838</div><div class="line">cpsr: 0x00000010</div><div class="line">// 6: 二进制映像</div><div class="line">Binary Images:</div><div class="line">0xd2000 -	0xd7fff +Rage Masters armv7   /var/mobile/Applications/A5635B22-F5EF-4CEB-94B6-FE158D885014/Rage Masters.app/Rage Masters</div><div class="line">0x2fe41000 - 0x2fe61fff  dyld armv7   /usr/lib/dyld</div><div class="line">0x327f2000 - 0x32808fff  libsystem_kernel.dylib armv7   /usr/lib/system/libsystem_kernel.dylib</div><div class="line">0x328a8000 - 0x328bdfff  libresolv.9.dylib armv7   /usr/lib/libresolv.9.dylib</div><div class="line">0x32a70000 - 0x32b35fff  CFNetwork armv7   /System/Library/Frameworks/CFNetwork.framework/CFNetwork</div><div class="line">0x32b7a000 - 0x32cc3fff  libicucore.A.dylib armv7   /usr/lib/libicucore.A.dylib</div><div class="line">0x32cc4000 - 0x32cc5fff  CoreSurface armv7   /System/Library/PrivateFrameworks/CoreSurface.framework/CoreSurface</div><div class="line">0x32f65000 - 0x32f8afff  OpenCL armv7   /System/Library/PrivateFrameworks/OpenCL.framework/OpenCL</div></pre></td></tr></table></figure>
<h2 id="1-进程信息"><a href="#1-进程信息" class="headerlink" title="1. 进程信息"></a>1. 进程信息</h2><pre><code>* Incident Identifier 是崩溃报告的唯一标识符。
* CrashReporter Key  是与设备标识相对应的唯一键值。虽然它不是真正的设备标识符，但也是一个非常有用的情报:如果你看到100个崩溃日志的CrashReporter Key值都是相同的，或者只有少数几个不同的CrashReport值，说明这不是一个普遍的问题，只发生在一个或少数几个设备上。
* Hardware Model  标识设备类型。 如果很多崩溃日志都是来自相同的设备类型，说明应用只在某特定类型的设备上有问题。上面的日志里，崩溃日志产生的设备是iPhone 4s。
* Process  是应用名称。中括号里面的数字是闪退时应用的进程ID。
</code></pre><h2 id="2-基本信息"><a href="#2-基本信息" class="headerlink" title="2. 基本信息"></a>2. 基本信息</h2><p>这部分给出了一些基本信息，包括闪退发生的日期和时间，设备的iOS版本。如果有很多崩溃日志都来自iOS 6.0，说明问题只发生在iOS 6.0上。 </p>
<h2 id="3-异常"><a href="#3-异常" class="headerlink" title="3. 异常"></a>3. 异常</h2><p>在这部分，你可以看到闪退发生时抛出的异常类型。还能看到异常编码和抛出异常的线程。根据崩溃报告类型的不同，在这部分你还能看到一些另外的信息。 </p>
<h2 id="4-线程回溯"><a href="#4-线程回溯" class="headerlink" title="4. 线程回溯"></a>4. 线程回溯</h2><p>这部分提供应用中所有线程的回溯日志。 回溯是闪退发生时所有活动帧清单。它包含闪退发生时调用函数的清单。看下面这行日志:<br><code>2    XYZLib    0x34648e88    0x83000 + 8740</code><br><code>它包括四列:</code><br><code>1. 帧编号—— 此处是2。</code><br><code>2. 二进制库的名称 ——此处是 XYZLib.</code><br><code>3. 调用方法的地址 ——此处是 0x34648e88.</code><br><code>4. 第四列分为两个子列，一个基本地址和一个偏移量。此处是0×83000 + 8740, 第一个数字指向文件，第二个数字指向文件中的代码行。</code></p>
<h2 id="5-线程状态"><a href="#5-线程状态" class="headerlink" title="5. 线程状态"></a>5. 线程状态</h2><p>这部分是闪退时寄存器中的值。一般不需要这部分的信息，因为回溯部分的信息已经足够让你找出问题所在。 </p>
<h2 id="6-二进制映像"><a href="#6-二进制映像" class="headerlink" title="6. 二进制映像"></a>6. 二进制映像</h2><p>这部分列出了闪退时已经加载的二进制文件。</p>
<h2 id="低内存闪退"><a href="#低内存闪退" class="headerlink" title="低内存闪退"></a>低内存闪退</h2><p>被iOS因释放内存页终止的进程名称后面你会看到 jettisoned  字样。如果看到它出现在你的应用名称后面，说明你的应用因使用太多内存而被终止了。<br>低内存崩溃日志看起来像这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">Incident Identifier: 30E46451-53FD-4965-896A-457FC11AD05F</div><div class="line">CrashReporter Key:   5a56599d836c4f867f6eec76afee451bf9ae5f31</div><div class="line">OS Version:          iPhone OS 3.1.3 (7E18)</div><div class="line">Date/Time:           2012-10-17 21:39:06.967 -0400</div><div class="line">Free pages:        96</div><div class="line">Wired pages:       10558</div><div class="line">Purgeable pages:   0</div><div class="line">Largest process:   Rage Masters</div><div class="line">Processes</div><div class="line">Name                 UUID                    Count resident pages</div><div class="line">Rage Masters     9320 (jettisoned) (active)</div><div class="line">mediaserverd      255</div><div class="line">dataaccessd      505</div><div class="line">syslogd       71</div><div class="line">apsd      171</div><div class="line">securityd      243</div><div class="line">notifyd     2027</div><div class="line">CommCenter      189</div><div class="line">SpringBoard     2158 (active)</div><div class="line">accessoryd       91</div><div class="line">configd      371</div><div class="line">fairplayd       93</div><div class="line">mDNSResponder      292</div><div class="line">lockdownd     1204</div><div class="line">launchd       72</div></pre></td></tr></table></figure></p>
<h2 id="异常编码"><a href="#异常编码" class="headerlink" title="异常编码"></a>异常编码</h2><ul>
<li>0x8badf00d : 读做 “ate bad food”! (把数字换成字母，是不是很像 :p)该编码表示应用是因为发生watchdog超时而被iOS终止的。  通常是应用花费太多时间而无法启动、终止或响应用系统事件。</li>
<li>0xbad22222 : 该编码表示 VoIP 应用因为过于频繁重启而被终止。</li>
<li>0xdead10cc : 读做 “dead lock”!该代码表明应用因为在后台运行时占用系统资源，如通讯录数据库不释放而被终止 。</li>
<li>0xdeadfa11 : 读做 “dead fall”! 该代码表示应用是被用户强制退出的。根据苹果文档, 强制退出发生在用户长按开关按钮直到出现 “滑动来关机”, 然后长按 Home按钮。强制退出将产生 包含0xdeadfa11 异常编码的崩溃日志, 因为大多数是强制退出是因为应用阻塞了界面。</li>
</ul>
<h3 id="从下向上读回溯日志。最底下的帧是最先调用的-依此类推。"><a href="#从下向上读回溯日志。最底下的帧是最先调用的-依此类推。" class="headerlink" title="从下向上读回溯日志。最底下的帧是最先调用的, 依此类推。"></a>从下向上读回溯日志。最底下的帧是最先调用的, 依此类推。</h3><h2 id="DEBUG模式下Crash搜集"><a href="#DEBUG模式下Crash搜集" class="headerlink" title="DEBUG模式下Crash搜集"></a>DEBUG模式下Crash搜集</h2><h3 id="1-SIGABRT（EXC-CRASH"><a href="#1-SIGABRT（EXC-CRASH" class="headerlink" title="1. SIGABRT（EXC_CRASH)"></a>1. SIGABRT（EXC_CRASH)</h3><pre><code>* 对象多次释放
</code></pre><h3 id="2-EXC-BAD-ACCESS（SIGBUS-或-SIGSEGV）"><a href="#2-EXC-BAD-ACCESS（SIGBUS-或-SIGSEGV）" class="headerlink" title="2. EXC_BAD_ACCESS（SIGBUS 或 SIGSEGV）"></a>2. EXC_BAD_ACCESS（SIGBUS 或 SIGSEGV）</h3><p>通常是内存问题导致的, 这种情况通常很难定位, 因为有些会直接停在 main() 函数, Xcode 的 Debug 面板没有任何直接的错误信息, 开启异常断点只能得到部分错误信息, 想要的却没有; 有时可能需要多点几次, 才能得到错误信息; </p>
<pre><code>* NSUnknownKeyException 通常能够告诉我们错误的类型
</code></pre><h3 id="3-异常断点"><a href="#3-异常断点" class="headerlink" title="3. 异常断点"></a>3. 异常断点</h3><pre><code>* objc_excption_rethrow 和 设置僵尸变量
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/songMW/stack.github.io/2017/04/25/崩溃日志/" data-id="cj4r0c58p001j1por7si00j34" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Objective-C/">Objective-C</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="[layout]-Class-dump" class="article article-type-[layout]" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/21/Class-dump/" class="article-date">
  <time datetime="2017-04-21T04:21:03.000Z" itemprop="datePublished">2017-04-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Objective-C/">Objective-C</a>►<a class="article-category-link" href="/categories/Objective-C/反编译工具/">反编译工具</a>►<a class="article-category-link" href="/categories/Objective-C/反编译工具/Class-dump/">Class-dump</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/Class-dump/">Objective-C Class-dump</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="class-dump-是什么"><a href="#class-dump-是什么" class="headerlink" title="class-dump 是什么?"></a>class-dump 是什么?</h2><p>使用<code>classdump</code>对原程序进行dum, 可以dump出所有源程序的函数所有信息：源程序所有函数类型，变量;<br>这样就可以了解程序结构方便逆向工程反编译.</p>
<h2 id="下载安装包"><a href="#下载安装包" class="headerlink" title="下载安装包"></a>下载安装包</h2><p><a href="http://stevenygard.com/projects/class-dump/" target="_blank" rel="external">官网</a></p>
<p>把 <code>class-dump</code> 放到 <code>/usr/local/bin</code> 目录下, 在终端输入<code>class-dump</code>, 显示<code>class-dump</code>的版本。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">IDFA:~ mac$ class-dump</div><div class="line">class-dump 3.5 (64 bit)</div><div class="line">Usage: class-dump [options] &lt;mach-o-file&gt;</div><div class="line"></div><div class="line">where options are:</div><div class="line">-a             show instance variable offsets</div><div class="line">-A             show implementation addresses</div><div class="line">--arch &lt;arch&gt;  choose a specific architecture from a universal binary (ppc, ppc64, i386, x86_64, armv6, armv7, armv7s, arm64)</div><div class="line">-C &lt;regex&gt;     only display classes matching regular expression</div><div class="line">-f &lt;str&gt;       find string in method name</div><div class="line">-H             generate header files in current directory, or directory specified with -o</div><div class="line">-I             sort classes, categories, and protocols by inheritance (overrides -s)</div><div class="line">-o &lt;dir&gt;       output directory used for -H</div><div class="line">-r             recursively expand frameworks and fixed VM shared libraries</div><div class="line">-s             sort classes and categories by name</div><div class="line">-S             sort methods by name</div><div class="line">-t             suppress header in output, for testing</div><div class="line">--list-arches  list the arches in the file, then exit</div><div class="line">--sdk-ios      specify iOS SDK version (will look in /Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS&lt;version&gt;.sdk</div><div class="line">--sdk-mac      specify Mac OS X version (will look in /Developer/SDKs/MacOSX&lt;version&gt;.sdk</div><div class="line">--sdk-root     specify the full SDK root path (or use --sdk-ios/--sdk-mac for a shortcut)</div></pre></td></tr></table></figure></p>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>在终端输入:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">IDFA:~ mac$ class-dump -H /Applications/WeChat.app -o /Users/mac/Desktop/Class-dump/weixin</div></pre></td></tr></table></figure></p>
<p>根据 class-dump options 解释:<br>-H 是生成在当前仓库生成头文件<br>-o 是输出到指定文件夹下</p>
<p><a href="https://github.com/nygard/class-dump">github上命令</a></p>
<p>下面是搜集github上常用的命令:</p>
<ul>
<li><p>class-dump AppKit:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">class-dump /System/Library/Frameworks/AppKit.framework</div></pre></td></tr></table></figure>
</li>
<li><p>class-dump UIKit:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">class-dump /Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS4.3.sdk/System/Library/Frameworks/UIKit.framework</div></pre></td></tr></table></figure>
</li>
<li><p>class-dump UIKit and all the frameworks it uses:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">class-dump /Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS4.3.sdk/System/Library/Frameworks/UIKit.framework -r --sdk-ios 4.3</div></pre></td></tr></table></figure>
</li>
<li><p>class-dump UIKit (and all the frameworks it uses) from developer tools that have been installed in /Dev42 instead of /Developer:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">class-dump /Dev42/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS5.0.sdk/System/Library/Frameworks/UIKit.framework -r --sdk-root /Dev42/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS5.0.sdk</div></pre></td></tr></table></figure>
</li>
</ul>
<p>上面的命令只是搜集, 没有一一验证.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://github.com/songMW/stack.github.io/2017/04/21/Class-dump/" data-id="cj4r0c56t00051poro9s3b0dk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Objective-C/">Objective-C</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/GracefulSentence/">GracefulSentence</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Installation/">Installation</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Installation/Hexo/">Hexo</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Installation/Hexo/Hello-World/">Hello World</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Installation/Hexo/Hexo-github/">Hexo+github</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/">Objective-C</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/AVFoundation/">AVFoundation</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/AVFoundation/MoviePlayer/">MoviePlayer</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/AVFoundation/MoviePlayer/MPMoviePlayerController/">MPMoviePlayerController</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/AVFoundation/MoviePlayer/MPMoviePlayerViewController/">MPMoviePlayerViewController</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/iOS常见错误收集/">iOS常见错误收集</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/iOS常见错误收集/Pod使用过程中遇到的问题/">Pod使用过程中遇到的问题</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/iOS常见错误收集/Xcode编译错误集合/">Xcode编译错误集合</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/iOS常见错误收集/arm指令集错误收集/">arm指令集错误收集</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/iOS常见错误收集/unrecognizedSelector/">unrecognizedSelector</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/iOS常见错误收集/崩溃日志/">崩溃日志</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/反编译工具/">反编译工具</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/反编译工具/Clang/">Clang</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/反编译工具/Class-dump/">Class-dump</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/开发者账号申请流程/">开发者账号申请流程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/知识点/">知识点</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/知识点/Autoreleasepool/">Autoreleasepool</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/知识点/KVC实现原理/">KVC实现原理</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/知识点/NSRunloop/">NSRunloop</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/知识点/Runtime/">Runtime</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/知识点/iOS经验总结/">iOS经验总结</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/知识点/load/">load</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Objective-C/知识点/宏-define-与常量-const/">宏(define)与常量(const)</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/python3FroMac/">python3FroMac</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Swift/">Swift</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Swift/基础/">基础</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Swift/基础/BasicOperators/">BasicOperators</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Swift/基础/TheBasic/">TheBasic</a></li></ul></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Installation/">Installation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Objective-C/">Objective-C</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sentence/">Sentence</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Swift/">Swift</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Installation/" style="font-size: 16.67px;">Installation</a> <a href="/tags/Objective-C/" style="font-size: 20px;">Objective-C</a> <a href="/tags/Sentence/" style="font-size: 10px;">Sentence</a> <a href="/tags/Swift/" style="font-size: 13.33px;">Swift</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/06/30/MPMoviePlayerController/">MPMoviePlayerController</a>
          </li>
        
          <li>
            <a href="/2017/06/29/MPMoviePlayerViewController/">MPMoviePlayerViewController</a>
          </li>
        
          <li>
            <a href="/2017/06/17/宏与常量/">宏(define)与常量(const)</a>
          </li>
        
          <li>
            <a href="/2017/06/14/KVC实现原理/">KVC实现原理</a>
          </li>
        
          <li>
            <a href="/2017/05/15/Clang/">Clang</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 stack<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>